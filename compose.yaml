services:
  frontend:
    platform: linux/amd64
    image: softvence/grayson_frontend:latest
    container_name: grayson_frontend
    environment:
      - NEXT_PUBLIC_BASE_URL=https://carbonengines.com
      - NEXT_PUBLIC_BASE_API=http://192.168.0.103:5010/api
      - NEXT_PUBLIC_GOOGLE_CLIENT_ID=125659000169-4incakt8jp20jhifol0h39u9pipe6g0r.apps.googleusercontent.com
      # - NEXT_PUBLIC_FACEBOOK_APP_ID=2264393004025713
      - NEXT_PUBLIC_FACEBOOK_APP_ID=25474619458797594
    ports:
      - "3000:3000"
    restart: always
    command: >
      sh -c "
        echo '🏁 Building the app...';
        sleep 5;
        npm run build;
        echo '🚀 Starting app...';
        npm run start
      "
